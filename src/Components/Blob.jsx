import React, { useState, useEffect } from "react";
import { useMediaQuery } from "react-responsive";

function Blob() {
  const smallScreen = useMediaQuery({ query: "(max-width:840px)" });
  const phoneScreen = useMediaQuery({ query: "(max-width:500px)" });

  const [animationKey, setAnimationKey] = useState(0);

  useEffect(() => {
    setAnimationKey((prevKey) => prevKey + 1);
  }, []);

  return (
    <div
      className={`w-fit ml-[auto]  ${
        phoneScreen && "fixed h-[300px] z-[0] top-[10%]"
      }`}
    >
      <svg
        id="visual"
        viewBox={`${!phoneScreen ? `0 40 300 300` : `0 10 300 300`}`}
        className="sm:mt-[2rem] "
        width={smallScreen ? "100%" : "350"}
        height={smallScreen ? "100%" : "350"}
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        version="1.1"
      >
        <g transform="translate(152.5024309948796 172.4992626451562)">
          <defs>
            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop
                offset="30%"
                style={{ stopColor: "#D75978", stopOpacity: 1 }}
              />
              <stop
                offset="100%"
                style={{ stopColor: "#DB694B", stopOpacity: 1 }}
              />
            </linearGradient>
          </defs>
          <path id="blob0" fill="url(#grad1)" stroke="black" strokeWidth="1">
            <animate
              key={animationKey}
              attributeName="d"
              dur="8s"
              repeatCount="indefinite"
              values="M83.2 -82.2C107.1 -59.4 125 -29.7 121.3 -3.8C117.5 22.2 92 44.3 68.1 56.8C44.3 69.3 22.2 72.2 -3.5 75.7C-29.2 79.2 -58.5 83.5 -82 71C-105.5 58.5 -123.2 29.2 -126.3 -3.1C-129.4 -35.4 -117.7 -70.7 -94.2 -93.5C-70.7 -116.4 -35.4 -126.7 -2.8 -123.9C29.7 -121 59.4 -105.1 83.2 -82.2;
                M61.2 -54.7C82.4 -40.1 104.7 -20 111.2 6.5C117.7 33 108.3 66 87.2 91C66 116 33 133 1.9 131.1C-29.2 129.2 -58.5 108.5 -78.8 83.5C-99.1 58.5 -110.6 29.2 -104.8 5.8C-99 -17.7 -76 -35.4 -55.7 -50C-35.4 -64.7 -17.7 -76.3 1.2 -77.5C20 -78.7 40.1 -69.4 61.2 -54.7;
                M63.9 -67.7C79.7 -48.1 87.4 -24 93 5.7C98.7 35.4 102.4 70.7 86.5 90.2C70.7 109.7 35.4 113.4 4.7 108.6C-25.9 103.9 -51.9 90.9 -66.7 71.4C-81.5 51.9 -85.3 25.9 -81.1 4.1C-77 -17.7 -65 -35.4 -50.2 -55C-35.4 -74.7 -17.7 -96.3 3.2 -99.5C24 -102.7 48.1 -87.4 63.9 -67.7;
                M87.2 -86.1C112.2 -62.2 131.1 -31.1 124.4 -6.7C117.7 17.7 85.4 35.4 60.4 48.4C35.4 61.4 17.7 69.7 -5.4 75.1C-28.5 80.5 -57 83 -76 70C-95 57 -104.5 28.5 -99.9 4.6C-95.3 -19.3 -76.7 -38.7 -57.7 -62.5C-38.7 -86.3 -19.3 -114.7 5.9 -120.6C31.1 -126.4 62.2 -109.9 87.2 -86.1;
                M61 -51.6C82.8 -39.1 106.9 -19.6 111 4.1C115.1 27.8 99.3 55.6 77.5 72.1C55.6 88.6 27.8 93.8 4.5 89.3C-18.9 84.9 -37.7 70.7 -62.7 54.2C-87.7 37.7 -118.9 18.9 -123.3 -4.5C-127.8 -27.8 -105.6 -55.6 -80.6 -68.1C-55.6 -80.6 -27.8 -77.8 -4.1 -73.7C19.6 -69.6 39.1 -64.1 61 -51.6;
                M93.1 -82.7C115.9 -70.2 126.5 -35.1 125.4 -1.1C124.3 33 111.7 66 88.8 91C66 116 33 133 1.2 131.8C-30.6 130.6 -61.3 111.3 -85.9 86.3C-110.6 61.3 -129.3 30.6 -129.9 -0.6C-130.5 -31.8 -113 -63.6 -88.3 -76.1C-63.6 -88.6 -31.8 -81.8 1.6 -83.5C35.1 -85.1 70.2 -95.2 93.1 -82.7;
                M83.2 -82.2C107.1 -59.4 125 -29.7 121.3 -3.8C117.5 22.2 92 44.3 68.1 56.8C44.3 69.3 22.2 72.2 -3.5 75.7C-29.2 79.2 -58.5 83.5 -82 71C-105.5 58.5 -123.2 29.2 -126.3 -3.1C-129.4 -35.4 -117.7 -70.7 -94.2 -93.5C-70.7 -116.4 -35.4 -126.7 -2.8 -123.9C29.7 -121 59.4 -105.1 83.2 -82.2"
            />
          </path>
        </g>
      </svg>
    </div>
  );
}

export default Blob;
